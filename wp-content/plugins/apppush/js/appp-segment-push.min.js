window.appp_segments_push=function(a,b,c,d){"use strict";var e={admin:{},user:{}};return e.admin.init=function(){c('[data-allow-segments="checkbox"]').on("click",function(){appp_segments_push.admin.toggle_taxonomies()}),appp_segments_push.admin.toggle_taxonomies()},e.admin.toggle_taxonomies=function(){c('[data-allow-segments="checkbox"]').is(":checked")?c(".toggle-notification-segments").show():(c.each(c(".toggle-notification-segments input"),function(a,b){c(b).attr("checked",!1)}),c(".toggle-notification-segments").hide())},e.user.init=function(){c(".notification-signup input:checkbox").on("click",function(a){appp_segments_push.user.update_meta(this)})},e.user.update_meta=function(a){c(".item-toggle-"+c(a).data("count")+" .appp-error-msg").hide();var b={action:"segment_user_meta_update",taxonomy:c(a).data("taxonomy"),term_id:c(a).data("termId"),post_type:c(a).data("postType"),status:c(a).is(":checked")?"on":"off"};c.ajax({type:"POST",data:b,dataType:"json",url:apppCore.ajaxurl,success:function(b){b&&b.status&&("on"==b.status||"off"==b.status)?console.log("user preference updated!"):(console.log(b),c(".item-toggle-"+c(a).data("count")+" .appp-error-msg").show())}}).fail(function(b){c(".item-toggle-"+c(a).data("count")+" .appp-error-msg").show()})},e}(window,document,jQuery),jQuery(document).on("ready load_ajax_content_done",function(){jQuery(".wp-admin").length?appp_segments_push.admin.init():appp_segments_push.user.init()});